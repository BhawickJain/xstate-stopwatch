(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[374],{3917:function(a,b,c){"use strict";c.d(b,{e:function(){return F}});var d,e=c(7294),f=c(2798),g=c(3056),h=c(9043),i=c(4911),j=c(3884),k=c(375),l=c(4066),m=c(9823),n={deferEvents:!1},o=function(){function a(a){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=(0,g.pi)((0,g.pi)({},n),a)}return a.prototype.initialize=function(a){if(this.initialized=!0,a){if(!this.options.deferEvents){this.schedule(a);return}this.process(a)}this.flushEvents()},a.prototype.schedule=function(a){if(!this.initialized||this.processingEvent){this.queue.push(a);return}if(0!==this.queue.length)throw Error("Event queue should be empty when it is not processing events");this.process(a),this.flushEvents()},a.prototype.clear=function(){this.queue=[]},a.prototype.flushEvents=function(){for(var a=this.queue.shift();a;)this.process(a),a=this.queue.shift()},a.prototype.process=function(a){this.processingEvent=!0;try{a()}catch(b){throw this.clear(),b}finally{this.processingEvent=!1}},a}(),p=c(8933),q=new Map,r=0,s={bookId:function(){return"x:".concat(r++)},register:function(a,b){return q.set(a,b),a},get:function(a){return q.get(a)},free:function(a){q.delete(a)}};function t(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==c.g?c.g:void(l.M||console.warn("XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues"))}var u,v=c(797),w={sync:!1,autoForward:!1};(u=d||(d={}))[u.NotStarted=0]="NotStarted",u[u.Running=1]="Running",u[u.Stopped=2]="Stopped";var x=function(){function a(b,c){void 0===c&&(c=a.defaultOptions);var e=this;this.machine=b,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=d.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(a,b){if((0,m.kJ)(a))return e.batch(a),e.state;var c=(0,m.g5)((0,m._v)(a,b));if(e.status===d.Stopped)return l.M||(0,m.ZK)(!1,'Event "'.concat(c.name,'" was sent to stopped service "').concat(e.machine.id,'". This service has already reached its final state, and will not transition.\nEvent: ').concat(JSON.stringify(c.data))),e.state;if(e.status!==d.Running&&!e.options.deferEvents)throw Error('Event "'.concat(c.name,'" was sent to uninitialized service "').concat(e.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(c.data)));return e.scheduler.schedule(function(){e.forward(c);var a=e._nextState(c);e.update(a,c)}),e._state},this.sendTo=function(a,b,c){var f=e.parent&&(b===h.K.Parent||e.parent.id===b),i=f?e.parent:(0,m.HD)(b)?e.children.get(b)||s.get(b):(0,m.Bc)(b)?b:void 0;if(!i){if(!f)throw Error("Unable to send event to child '".concat(b,"' from service '").concat(e.id,"'."));l.M||(0,m.ZK)(!1,"Service '".concat(e.id,"' has no parent: unable to send event ").concat(a.type));return}if("machine"in i){if(e.status!==d.Stopped||e.parent!==i||e.state.done){var n=(0,g.pi)((0,g.pi)({},a),{name:a.name===j.vU?"".concat((0,k.vU)(e.id)):a.name,origin:e.sessionId});!c&&e.machine.config.predictableActionArguments?e._outgoingQueue.push([i,n]):i.send(n)}}else!c&&e.machine.config.predictableActionArguments?e._outgoingQueue.push([i,a.data]):i.send(a.data)},this._exec=function(a,b,c,f){void 0===f&&(f=e.machine.options.actions);var g=a.exec||(0,k.o$)(a.type,f),i=(0,m.mf)(g)?g:g?g.exec:a.exec;if(i)try{return i(b,c.data,e.machine.config.predictableActionArguments?{action:a,_event:c}:{action:a,state:e.state,_event:c})}catch(n){throw e.parent&&e.parent.send({type:"xstate.error",data:n}),n}switch(a.type){case j.lW:var o=a;if("number"==typeof o.delay){e.defer(o);return}o.to?e.sendTo(o._event,o.to,c===k.bf):e.send(o._event);break;case j.al:e.cancel(a.sendId);break;case j.BL:if(e.status!==d.Running)return;var p=a.activity;if(!e.machine.config.predictableActionArguments&&!e.state.activities[p.id||p.type])break;if(p.type===h.M.Invoke){var q=(0,m.j)(p.src),r=e.machine.options.services?e.machine.options.services[q.type]:void 0,s=p.id,t=p.data;l.M||(0,m.ZK)(!("forward"in p),"`forward` property is deprecated (found in invocation of '".concat(p.src,"' in in machine '").concat(e.machine.id,"'). ")+"Please use `autoForward` instead.");var u="autoForward"in p?p.autoForward:!!p.forward;if(!r){l.M||(0,m.ZK)(!1,"No service found for invocation '".concat(p.src,"' in machine '").concat(e.machine.id,"'."));return}var v=t?(0,m.QX)(t,b,c):void 0;if("string"==typeof r)return;var w=(0,m.mf)(r)?r(b,c.data,{data:v,src:q,meta:p.meta}):r;if(!w)return;var x=void 0;(0,m.O4)(w)&&(w=v?w.withContext(v):w,x={autoForward:u}),e.spawn(w,s,x)}else e.spawnActivity(p);break;case j.sT:e.stopChild(a.activity.id);break;case j.cM:var y=a.label,z=a.value;y?e.logger(y,z):e.logger(z);break;default:l.M||(0,m.ZK)(!1,"No implementation found for action type '".concat(a.type,"'"))}};var f=(0,g.pi)((0,g.pi)({},a.defaultOptions),c),i=f.clock,n=f.logger,p=f.parent,q=f.id,r=void 0!==q?q:b.id;this.id=r,this.logger=n,this.clock=i,this.parent=p,this.options=f,this.scheduler=new o({deferEvents:this.options.deferEvents}),this.sessionId=s.bookId()}return Object.defineProperty(a.prototype,"initialState",{get:function(){var a=this;return this._initialState?this._initialState:(0,v.J)(this,function(){return a._initialState=a.machine.initialState,a._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"state",{get:function(){return l.M||(0,m.ZK)(this.status!==d.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first.")),this._state},enumerable:!1,configurable:!0}),a.prototype.execute=function(a,b){var c,d;try{for(var e=(0,g.XA)(a.actions),f=e.next();!f.done;f=e.next()){var h=f.value;this.exec(h,a,b)}}catch(i){c={error:i}}finally{try{f&&!f.done&&(d=e.return)&&d.call(e)}finally{if(c)throw c.error}}},a.prototype.update=function(a,b){var c,d,e,f,h,i,j,l,n=this;if(a._sessionid=this.sessionId,this._state=a,(!this.machine.config.predictableActionArguments||b===k.bf)&&this.options.execute)this.execute(this.state);else for(var o=void 0;o=this._outgoingQueue.shift();)o[0].send(o[1]);if(this.children.forEach(function(a){n.state.children[a.id]=a}),this.devTools&&this.devTools.send(b.data,a),a.event)try{for(var p=(0,g.XA)(this.eventListeners),q=p.next();!q.done;q=p.next()){var r=q.value;r(a.event)}}catch(s){c={error:s}}finally{try{q&&!q.done&&(d=p.return)&&d.call(p)}finally{if(c)throw c.error}}try{for(var t=(0,g.XA)(this.listeners),u=t.next();!u.done;u=t.next()){var r=u.value;r(a,a.event)}}catch(v){e={error:v}}finally{try{u&&!u.done&&(f=t.return)&&f.call(t)}finally{if(e)throw e.error}}try{for(var w=(0,g.XA)(this.contextListeners),x=w.next();!x.done;x=w.next())(0,x.value)(this.state.context,this.state.history?this.state.history.context:void 0)}catch(y){h={error:y}}finally{try{x&&!x.done&&(i=w.return)&&i.call(w)}finally{if(h)throw h.error}}if(this.state.done){var z=a.configuration.find(function(a){return"final"===a.type&&a.parent===n.machine}),A=z&&z.doneData?(0,m.QX)(z.doneData,a.context,b):void 0;try{for(var B=(0,g.XA)(this.doneListeners),C=B.next();!C.done;C=B.next()){var r=C.value;r((0,k.Sl)(this.id,A))}}catch(D){j={error:D}}finally{try{C&&!C.done&&(l=B.return)&&l.call(B)}finally{if(j)throw j.error}}this._stop(),this._stopChildren()}},a.prototype.onTransition=function(a){return this.listeners.add(a),this.status===d.Running&&a(this.state,this.state.event),this},a.prototype.subscribe=function(a,b,c){var e=this,f=(0,m.zM)(a,b,c);this.listeners.add(f.next),this.status!==d.NotStarted&&f.next(this.state);var g=function(){e.doneListeners.delete(g),e.stopListeners.delete(g),f.complete()};return this.status===d.Stopped?f.complete():(this.onDone(g),this.onStop(g)),{unsubscribe:function(){e.listeners.delete(f.next),e.doneListeners.delete(g),e.stopListeners.delete(g)}}},a.prototype.onEvent=function(a){return this.eventListeners.add(a),this},a.prototype.onSend=function(a){return this.sendListeners.add(a),this},a.prototype.onChange=function(a){return this.contextListeners.add(a),this},a.prototype.onStop=function(a){return this.stopListeners.add(a),this},a.prototype.onDone=function(a){return this.doneListeners.add(a),this},a.prototype.off=function(a){return this.listeners.delete(a),this.eventListeners.delete(a),this.sendListeners.delete(a),this.stopListeners.delete(a),this.doneListeners.delete(a),this.contextListeners.delete(a),this},a.prototype.start=function(a){var b=this;if(this.status===d.Running)return this;this.machine._init(),s.register(this.sessionId,this),this.initialized=!0,this.status=d.Running;var c=void 0===a?this.initialState:(0,v.J)(this,function(){return(0,i.TL)(a)?b.machine.resolveState(a):b.machine.resolveState(i.ZM.from(a,b.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){b.update(c,k.bf)}),this},a.prototype._stopChildren=function(){this.children.forEach(function(a){(0,m.mf)(a.stop)&&a.stop()}),this.children.clear()},a.prototype._stop=function(){var a,b,c,e,f,h,i,j,k,l;try{for(var m=(0,g.XA)(this.listeners),n=m.next();!n.done;n=m.next()){var p=n.value;this.listeners.delete(p)}}catch(q){a={error:q}}finally{try{n&&!n.done&&(b=m.return)&&b.call(m)}finally{if(a)throw a.error}}try{for(var r=(0,g.XA)(this.stopListeners),s=r.next();!s.done;s=r.next()){var p=s.value;p(),this.stopListeners.delete(p)}}catch(t){c={error:t}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(c)throw c.error}}try{for(var u=(0,g.XA)(this.contextListeners),v=u.next();!v.done;v=u.next()){var p=v.value;this.contextListeners.delete(p)}}catch(w){f={error:w}}finally{try{v&&!v.done&&(h=u.return)&&h.call(u)}finally{if(f)throw f.error}}try{for(var x=(0,g.XA)(this.doneListeners),y=x.next();!y.done;y=x.next()){var p=y.value;this.doneListeners.delete(p)}}catch(z){i={error:z}}finally{try{y&&!y.done&&(j=x.return)&&j.call(x)}finally{if(i)throw i.error}}if(!this.initialized)return this;this.initialized=!1,this.status=d.Stopped,this._initialState=void 0;try{for(var A=(0,g.XA)(Object.keys(this.delayedEventsMap)),B=A.next();!B.done;B=A.next()){var C=B.value;this.clock.clearTimeout(this.delayedEventsMap[C])}}catch(D){k={error:D}}finally{try{B&&!B.done&&(l=A.return)&&l.call(A)}finally{if(k)throw k.error}}this.scheduler.clear(),this.scheduler=new o({deferEvents:this.options.deferEvents})},a.prototype.stop=function(){var a=this,b=this.scheduler;return this._stop(),b.schedule(function(){var b=(0,m.g5)({type:"xstate.stop"}),c=(0,v.J)(a,function(){var c=(0,m.xH)((0,g.ev)([],(0,g.CR)(a.state.configuration),!1).sort(function(a,b){return b.order-a.order}).map(function(b){return(0,k.AE)(b.onExit,a.machine.options.actions)})),d=(0,g.CR)((0,k.yC)(a.machine,a.state,a.state.context,b,[c],a.machine.config.predictableActionArguments?a._exec:void 0,a.machine.config.predictableActionArguments||a.machine.config.preserveActionOrder),2),e=d[0],f=d[1],l=new i.ZM({value:a.state.value,context:f,_event:b,_sessionid:a.sessionId,historyValue:void 0,history:a.state,actions:e.filter(function(a){return a.type!==j.OU&&(a.type!==j.lW|| !!a.to&&a.to!==h.K.Internal)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:a.state.done,tags:a.state.tags,machine:a.machine});return l.changed=!0,l});a.update(c,b),a._stopChildren(),s.free(a.sessionId)}),this},a.prototype.batch=function(a){var b=this;if(this.status===d.NotStarted&&this.options.deferEvents)l.M||(0,m.ZK)(!1,"".concat(a.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'" and are deferred. Make sure .start() is called for this service.\nEvent: ').concat(JSON.stringify(event)));else if(this.status!==d.Running)throw Error("".concat(a.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(a.length){var c=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var d,e,f=b.state,h=!1,j=[];try{for(var k=(0,g.XA)(a),l=k.next();!l.done;l=k.next()){var n=l.value;!function(a){var d=(0,m.g5)(a);b.forward(d),f=(0,v.J)(b,function(){return b.machine.transition(f,d,void 0,c||void 0)}),j.push.apply(j,(0,g.ev)([],(0,g.CR)(b.machine.config.predictableActionArguments?f.actions:f.actions.map(function(a){return(0,i.j1)(a,f)})),!1)),h=h||!!f.changed}(n)}}catch(o){d={error:o}}finally{try{l&&!l.done&&(e=k.return)&&e.call(k)}finally{if(d)throw d.error}}f.changed=h,f.actions=j,b.update(f,(0,m.g5)(a[a.length-1]))})}},a.prototype.sender=function(a){return this.send.bind(this,a)},a.prototype._nextState=function(a,b){var c=this;void 0===b&&(b=!!this.machine.config.predictableActionArguments&&this._exec);var d=(0,m.g5)(a);if(0===d.name.indexOf(j.Mg)&&!this.state.nextEvents.some(function(a){return 0===a.indexOf(j.Mg)}))throw d.data.data;return(0,v.J)(this,function(){return c.machine.transition(c.state,d,void 0,b||void 0)})},a.prototype.nextState=function(a){return this._nextState(a,!1)},a.prototype.forward=function(a){var b,c;try{for(var d=(0,g.XA)(this.forwardTo),e=d.next();!e.done;e=d.next()){var f=e.value,h=this.children.get(f);if(!h)throw Error("Unable to forward event '".concat(a,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(f,"'."));h.send(a)}}catch(i){b={error:i}}finally{try{e&&!e.done&&(c=d.return)&&c.call(d)}finally{if(b)throw b.error}}},a.prototype.defer=function(a){var b=this;this.delayedEventsMap[a.id]=this.clock.setTimeout(function(){a.to?b.sendTo(a._event,a.to,!0):b.send(a._event)},a.delay)},a.prototype.cancel=function(a){this.clock.clearTimeout(this.delayedEventsMap[a]),delete this.delayedEventsMap[a]},a.prototype.exec=function(a,b,c){void 0===c&&(c=this.machine.options.actions),this._exec(a,b.context,b._event,c)},a.prototype.removeChild=function(a){var b;this.children.delete(a),this.forwardTo.delete(a),null===(b=this.state)|| void 0===b||delete b.children[a]},a.prototype.stopChild=function(a){var b=this.children.get(a);b&&(this.removeChild(a),(0,m.mf)(b.stop)&&b.stop())},a.prototype.spawn=function(a,b,c){if(this.status!==d.Running)return(0,p.Xg)(a,b);if((0,m.y8)(a))return this.spawnPromise(Promise.resolve(a),b);if((0,m.mf)(a))return this.spawnCallback(a,b);if((0,p.f3)(a))return this.spawnActor(a,b);if((0,m.bi)(a))return this.spawnObservable(a,b);if((0,m.O4)(a))return this.spawnMachine(a,(0,g.pi)((0,g.pi)({},c),{id:b}));else if((0,m.HV)(a))return this.spawnBehavior(a,b);else throw Error('Unable to spawn entity "'.concat(b,'" of type "').concat(typeof a,'".'))},a.prototype.spawnMachine=function(b,c){var d=this;void 0===c&&(c={});var e=new a(b,(0,g.pi)((0,g.pi)({},this.options),{parent:this,id:c.id||b.id})),f=(0,g.pi)((0,g.pi)({},w),c);f.sync&&e.onTransition(function(a){d.send(j.Vx,{state:a,id:e.id})});var h=e;return this.children.set(e.id,h),f.autoForward&&this.forwardTo.add(e.id),e.onDone(function(a){d.removeChild(e.id),d.send((0,m.g5)(a,{origin:e.id}))}).start(),h},a.prototype.spawnBehavior=function(a,b){var c,d,e,f,g,h,i,j,k,l=(c=a,d={id:b,parent:this},e=c.initialState,f=new Set,g=[],h=!1,i=function(){if(!h){for(h=!0;g.length>0;){var a=g.shift();e=c.transition(e,a,k),f.forEach(function(a){return a.next(e)})}h=!1}},j=(0,p.vk)({id:d.id,send:function(a){g.push(a),i()},getSnapshot:function(){return e},subscribe:function(a,b,c){var d=(0,m.zM)(a,b,c);return f.add(d),d.next(e),{unsubscribe:function(){f.delete(d)}}}}),k={parent:d.parent,self:j,id:d.id||"anonymous",observers:f},e=c.start?c.start(k):e,j);return this.children.set(b,l),l},a.prototype.spawnPromise=function(a,b){var c,d,e=this,f=!1;a.then(function(a){f||(d=a,e.removeChild(b),e.send((0,m.g5)((0,k.Sl)(b,a),{origin:b})))},function(a){if(!f){e.removeChild(b);var c=(0,k.vU)(b,a);try{e.send((0,m.g5)(c,{origin:b}))}catch(d){(0,m.v4)(a,d,b),e.devTools&&e.devTools.send(c,e.state),e.machine.strict&&e.stop()}}});var g=((c={id:b,send:function(){},subscribe:function(b,c,d){var e=(0,m.zM)(b,c,d),f=!1;return a.then(function(a){if(!f)e.next(a),!f&&e.complete()},function(a){!f&&e.error(a)}),{unsubscribe:function(){return f=!0}}},stop:function(){f=!0},toJSON:function(){return{id:b}},getSnapshot:function(){return d}})[m.L$]=function(){return this},c);return this.children.set(b,g),g},a.prototype.spawnCallback=function(a,b){var c,d,e,f=this,g=!1,h=new Set,i=new Set,j=function(a){d=a,i.forEach(function(b){return b(a)}),!g&&f.send((0,m.g5)(a,{origin:b}))};try{e=a(j,function(a){h.add(a)})}catch(l){this.send((0,k.vU)(b,l))}if((0,m.y8)(e))return this.spawnPromise(e,b);var n=((c={id:b,send:function(a){return h.forEach(function(b){return b(a)})},subscribe:function(a){var b=(0,m.zM)(a);return i.add(b.next),{unsubscribe:function(){i.delete(b.next)}}},stop:function(){g=!0,(0,m.mf)(e)&&e()},toJSON:function(){return{id:b}},getSnapshot:function(){return d}})[m.L$]=function(){return this},c);return this.children.set(b,n),n},a.prototype.spawnObservable=function(a,b){var c,d,e=this,f=a.subscribe(function(a){d=a,e.send((0,m.g5)(a,{origin:b}))},function(a){e.removeChild(b),e.send((0,m.g5)((0,k.vU)(b,a),{origin:b}))},function(){e.removeChild(b),e.send((0,m.g5)((0,k.Sl)(b),{origin:b}))}),g=((c={id:b,send:function(){},subscribe:function(b,c,d){return a.subscribe(b,c,d)},stop:function(){return f.unsubscribe()},getSnapshot:function(){return d},toJSON:function(){return{id:b}}})[m.L$]=function(){return this},c);return this.children.set(b,g),g},a.prototype.spawnActor=function(a,b){return this.children.set(b,a),a},a.prototype.spawnActivity=function(a){var b=this.machine.options&&this.machine.options.activities?this.machine.options.activities[a.type]:void 0;if(!b){l.M||(0,m.ZK)(!1,"No implementation found for activity '".concat(a.type,"'"));return}var c=b(this.state.context,a);this.spawnEffect(a.id,c)},a.prototype.spawnEffect=function(a,b){var c;this.children.set(a,((c={id:a,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:b||void 0,getSnapshot:function(){},toJSON:function(){return{id:a}}})[m.L$]=function(){return this},c))},a.prototype.attachDev=function(){var a=t();if(this.options.devTools&&a){if(a.__REDUX_DEVTOOLS_EXTENSION__){var b="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=a.__REDUX_DEVTOOLS_EXTENSION__.connect((0,g.pi)((0,g.pi)({name:this.id,autoPause:!0,stateSanitizer:function(a){return{value:a.value,context:a.context,actions:a.actions}}},b),{features:(0,g.pi)({jump:!1,skip:!1},b?b.features:void 0)}),this.machine),this.devTools.init(this.state)}!function(a){if(t()){var b=function(){var a=t();if(a&&"__xstate__"in a)return a.__xstate__}();b&&b.register(a)}}(this)}},a.prototype.toJSON=function(){return{id:this.id}},a.prototype[m.L$]=function(){return this},a.prototype.getSnapshot=function(){return this.status===d.NotStarted?this.initialState:this._state},a.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(a,b){return setTimeout(a,b)},clearTimeout:function(a){return clearTimeout(a)}},logger:console.log.bind(console),devTools:!1},a.interpret=y,a}();function y(a,b){return new x(a,b)}var z=e.useLayoutEffect;function A(a){var b=e.useRef();return b.current||(b.current={v:a()}),b.current.v}var B=function(){return(B=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},C=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c},D=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(h){e={error:h}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g};function E(a){return a}function F(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];var g,h,j,k,l,m,n,o,p,q,r,s=D(b,1)[0],t=void 0===s?{}:s,u=(g=a,h=t,j=A(function(){return"function"==typeof g?g():g}),k=h.context,l=h.guards,m=h.actions,n=h.activities,o=h.services,p=h.delays,q=(h.state,C(h,["context","guards","actions","activities","services","delays","state"])),r=A(function(){var a=j.withConfig({context:k,guards:l,actions:m,activities:n,services:o,delays:p},function(){return B(B({},j.context),k)});return y(a,q)}),z(function(){Object.assign(r.machine.options.actions,m),Object.assign(r.machine.options.guards,l),Object.assign(r.machine.options.activities,n),Object.assign(r.machine.options.services,o),Object.assign(r.machine.options.delays,p)},[m,l,n,o,p]),r),v=(0,e.useCallback)(function(){return u.status===d.NotStarted?t.state?i.ZM.create(t.state):u.machine.initialState:u.state},[u]),w=(0,e.useCallback)(function(a,b){if(u.status===d.NotStarted)return!0;var c=void 0===b.changed&&(Object.keys(b.children).length>0||"boolean"==typeof a.changed);return!(b.changed||c)},[u]),x=(0,e.useCallback)(function(a){return u.subscribe(a).unsubscribe},[u]),F=(0,f.useSyncExternalStoreWithSelector)(x,v,v,E,w);return(0,e.useEffect)(function(){var a=t.state;return u.start(a?i.ZM.create(a):void 0),function(){u.stop(),u.status=d.NotStarted}},[]),[F,u.send,u]}},3882:function(a,b,c){"use strict";function d(a,b){if(b.length<a)throw TypeError(a+" argument"+(a>1?"s":"")+" required, but only "+b.length+" present")}c.d(b,{Z:function(){return d}})},6948:function(a,b,c){"use strict";c.d(b,{qk:function(){return e},yJ:function(){return d}});var d=6e4,e=1e3},7076:function(a,b,c){"use strict";c.d(b,{Z:function(){return f}});var d=c(3882),e=c(6948);function f(a){return(0,d.Z)(1,arguments),Math.floor(a/e.yJ)}},8078:function(a,b,c){"use strict";c.d(b,{Z:function(){return f}});var d=c(3882),e=c(6948);function f(a){return(0,d.Z)(1,arguments),Math.floor(a/e.qk)}},6961:function(a,b,c){"use strict";c.d(b,{Z:function(){return f}});var d=c(3882),e=c(6948);function f(a){return(0,d.Z)(1,arguments),Math.floor(a*e.yJ)}},2523:function(a,b,c){"use strict";c.d(b,{Z:function(){return f}});var d=c(3882),e=c(6948);function f(a){return(0,d.Z)(1,arguments),a*e.qk}},9008:function(a,b,c){a.exports=c(5443)},3250:function(a,b,c){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var d=c(7294),e="function"==typeof Object.is?Object.is:function(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},f=d.useState,g=d.useEffect,h=d.useLayoutEffect,i=d.useDebugValue;function j(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!e(a,c)}catch(d){return!0}}function k(a,b){return b()}var l="undefined"==typeof window|| void 0===window.document|| void 0===window.document.createElement?k:function(a,b){var c=b(),d=f({inst:{value:c,getSnapshot:b}}),e=d[0].inst,k=d[1];return h(function(){e.value=c,e.getSnapshot=b,j(e)&&k({inst:e})},[a,c,b]),g(function(){return j(e)&&k({inst:e}),a(function(){j(e)&&k({inst:e})})},[a]),i(c),c};b.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:l},139:function(a,b,c){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var d=c(7294),e=c(1688),f="function"==typeof Object.is?Object.is:function(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},g=e.useSyncExternalStore,h=d.useRef,i=d.useEffect,j=d.useMemo,k=d.useDebugValue;b.useSyncExternalStoreWithSelector=function(a,b,c,d,e){var l=h(null);if(null===l.current){var m={hasValue:!1,value:null};l.current=m}else m=l.current;l=j(function(){function a(a){if(!i){if(i=!0,g=a,a=d(a),void 0!==e&&m.hasValue){var b=m.value;if(e(b,a))return h=b}return h=a}if(b=h,f(g,a))return b;var c=d(a);return void 0!==e&&e(b,c)?b:(g=a,h=c)}var g,h,i=!1,j=void 0===c?null:c;return[function(){return a(b())},null===j?void 0:function(){return a(j())}]},[b,c,d,e]);var n=g(a,l[0],l[1]);return i(function(){m.hasValue=!0,m.value=n},[n]),k(n),n}},1688:function(a,b,c){"use strict";a.exports=c(3250)},2798:function(a,b,c){"use strict";a.exports=c(139)},8933:function(a,b,c){"use strict";c.d(b,{Xg:function(){return i},f3:function(){return j},mu:function(){return h},vk:function(){return k}});var d=c(3056),e=c(9823),f=c(797);function g(a){var b;return(b={id:a,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:a}}})[e.L$]=function(){return this},b}function h(a,b,c,d){var f,h=(0,e.j)(a.src),j=null===(f=null==b?void 0:b.options.services)|| void 0===f?void 0:f[h.type],k=a.data?(0,e.QX)(a.data,c,d):void 0,l=j?i(j,a.id,k):g(a.id);return l.meta=a,l}function i(a,b,c){var d=g(b);if(d.deferred=!0,(0,e.O4)(a)){var h=d.state=(0,f.J)(void 0,function(){return(c?a.withContext(c):a).initialState});d.getSnapshot=function(){return h}}return d}function j(a){return function(a){try{return"function"==typeof a.send}catch(b){return!1}}(a)&&"id"in a}function k(a){var b;return(0,d.pi)(((b={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[e.L$]=function(){return this},b),a)}},4723:function(a,b,c){"use strict";c.d(b,{C:function(){return t}});var d=c(3056),e=c(9823),f=c(9043),g=c(4911),h=c(3884),i=c(375),j=c(4066),k=c(7353),l=c(6115),m=c(8933);function n(a){return(0,d.pi)((0,d.pi)({type:h.dw},a),{toJSON:function(){a.onDone,a.onError;var b=(0,d._T)(a,["onDone","onError"]);return(0,d.pi)((0,d.pi)({},b),{type:h.dw,src:function(a){if("string"==typeof a){var b={type:a};return b.toString=function(){return a},b}return a}(a.src)})}})}var o={},p=function(a){return"#"===a[0]},q=function(a,b,c){var d=c.slice(0,-1).some(function(a){return!("cond"in a)&&!("in"in a)&&((0,e.HD)(a.target)||(0,e.O4)(a.target))}),f=""===b?"the transient event":"event '".concat(b,"'");(0,e.ZK)(!d,"One or more transitions for ".concat(f," on state '").concat(a.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")},r=function(){function a(b,c,f,g){void 0===f&&(f="context"in b?b.context:void 0);var h,m=this;this.config=b,this._context=f,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},c),this.parent=null==g?void 0:g.parent,this.key=this.config.key||(null==g?void 0:g.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:k.iS),this.id=this.config.id||(0,d.ev)([this.machine.key],(0,d.CR)(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(h=this.config.schema)&& void 0!==h?h:{},this.description=this.config.description,j.M||(0,e.ZK)(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?(0,e.Q8)(this.config.states,function(b,c){var e,f=new a(b,{},void 0,{parent:m,key:c});return Object.assign(m.idMap,(0,d.pi)(((e={})[f.id]=f,e),f.idMap)),f}):o;var p=0;function q(a){var b,c;a.order=p++;try{for(var e=(0,d.XA)((0,l.nI)(a)),f=e.next();!f.done;f=e.next()){var g=f.value;q(g)}}catch(h){b={error:h}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}}q(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always|| !!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some(function(a){return""===a.event}):""in this.config.on),this.strict=!!this.config.strict,this.onEntry=(0,e.qo)(this.config.entry||this.config.onEntry).map(function(a){return(0,i.Q8)(a)}),this.onExit=(0,e.qo)(this.config.exit||this.config.onExit).map(function(a){return(0,i.Q8)(a)}),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=(0,e.qo)(this.config.invoke).map(function(a,b){if((0,e.O4)(a)){var c,f,g=(0,e.bx)(m.id,b);return m.machine.options.services=(0,d.pi)(((c={})[g]=a,c),m.machine.options.services),n({src:g,id:g})}if((0,e.HD)(a.src)){var g=a.id||(0,e.bx)(m.id,b);return n((0,d.pi)((0,d.pi)({},a),{id:g,src:a.src}))}if((0,e.O4)(a.src)||(0,e.mf)(a.src)){var g=a.id||(0,e.bx)(m.id,b);return m.machine.options.services=(0,d.pi)(((f={})[g]=a.src,f),m.machine.options.services),n((0,d.pi)((0,d.pi)({id:g},a),{src:g}))}var h=a.src;return n((0,d.pi)((0,d.pi)({id:(0,e.bx)(m.id,b)},a),{src:h}))}),this.activities=(0,e.qo)(this.config.activities).concat(this.invoke).map(function(a){return(0,i.XA)(a)}),this.transition=this.transition.bind(this),this.tags=(0,e.qo)(this.config.tags)}return a.prototype._init=function(){!this.__cache.transitions&&(0,l.ac)(this).forEach(function(a){return a.on})},a.prototype.withConfig=function(b,c){var e=this.options,f=e.actions,g=e.activities,h=e.guards,i=e.services,j=e.delays;return new a(this.config,{actions:(0,d.pi)((0,d.pi)({},f),b.actions),activities:(0,d.pi)((0,d.pi)({},g),b.activities),guards:(0,d.pi)((0,d.pi)({},h),b.guards),services:(0,d.pi)((0,d.pi)({},i),b.services),delays:(0,d.pi)((0,d.pi)({},j),b.delays)},null!=c?c:this.context)},a.prototype.withContext=function(b){return new a(this.config,this.options,b)},Object.defineProperty(a.prototype,"context",{get:function(){return(0,e.mf)(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:(0,e.Q8)(this.states,function(a){return a.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order|| -1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),a.prototype.toJSON=function(){return this.definition},Object.defineProperty(a.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var a=this.transitions;return this.__cache.on=a.reduce(function(a,b){return a[b.eventType]=a[b.eventType]||[],a[b.eventType].push(b),a},{})},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),a.prototype.getCandidates=function(a){if(this.__cache.candidates[a])return this.__cache.candidates[a];var b=""===a,c=this.transitions.filter(function(c){var d=c.eventType===a;return b?d:d||"*"===c.eventType});return this.__cache.candidates[a]=c,c},a.prototype.getDelayedTransitions=function(){var a=this,b=this.config.after;if(!b)return[];var c=function(b,c){var d=(0,e.mf)(b)?"".concat(a.id,":delay[").concat(c,"]"):b,f=(0,i.e4)(d,a.id);return a.onEntry.push((0,i.lW)(f,{delay:b})),a.onExit.push((0,i.al)(f)),f};return((0,e.kJ)(b)?b.map(function(a,b){var e=c(a.delay,b);return(0,d.pi)((0,d.pi)({},a),{event:e})}):(0,e.xH)(Object.keys(b).map(function(a,f){var g=b[a],h=(0,e.HD)(g)?{target:g}:g,i=isNaN(+a)?a:+a,j=c(i,f);return(0,e.qo)(h).map(function(a){return(0,d.pi)((0,d.pi)({},a),{event:j,delay:i})})}))).map(function(b){var c=b.delay;return(0,d.pi)((0,d.pi)({},a.formatTransition(b)),{delay:c})})},a.prototype.getStateNodes=function(a){var b,c=this;if(!a)return[];var f=a instanceof g.ZM?a.value:(0,e.WM)(a,this.delimiter);if((0,e.HD)(f)){var h=this.getStateNode(f).initial;return void 0!==h?this.getStateNodes(((b={})[f]=h,b)):[this,this.states[f]]}var i=Object.keys(f),j=[this];return j.push.apply(j,(0,d.ev)([],(0,d.CR)((0,e.xH)(i.map(function(a){return c.getStateNode(a).getStateNodes(f[a])}))),!1)),j},a.prototype.handles=function(a){var b=(0,e.x6)(a);return this.events.includes(b)},a.prototype.resolveState=function(a){var b=a instanceof g.ZM?a:g.ZM.create(a),c=Array.from((0,l.P_)([],this.getStateNodes(b.value)));return new g.ZM((0,d.pi)((0,d.pi)({},b),{value:this.resolve(b.value),configuration:c,done:(0,l.Ij)(c,this),tags:(0,l.Oe)(c),machine:this.machine}))},a.prototype.transitionLeafNode=function(a,b,c){var d=this.getStateNode(a).next(b,c);return d&&d.transitions.length?d:this.next(b,c)},a.prototype.transitionCompoundNode=function(a,b,c){var d=Object.keys(a),e=this.getStateNode(d[0])._transition(a[d[0]],b,c);return e&&e.transitions.length?e:this.next(b,c)},a.prototype.transitionParallelNode=function(a,b,c){var f,g,h={};try{for(var i=(0,d.XA)(Object.keys(a)),j=i.next();!j.done;j=i.next()){var k=j.value,l=a[k];if(l){var m=this.getStateNode(k)._transition(l,b,c);m&&(h[k]=m)}}}catch(n){f={error:n}}finally{try{j&&!j.done&&(g=i.return)&&g.call(i)}finally{if(f)throw f.error}}var o=Object.keys(h).map(function(a){return h[a]}),p=(0,e.xH)(o.map(function(a){return a.transitions})),q=o.some(function(a){return a.transitions.length>0});if(!q)return this.next(b,c);var r=(0,e.xH)(o.map(function(a){return a.entrySet})),s=(0,e.xH)(Object.keys(h).map(function(a){return h[a].configuration}));return{transitions:p,entrySet:r,exitSet:(0,e.xH)(o.map(function(a){return a.exitSet})),configuration:s,source:b,actions:(0,e.xH)(Object.keys(h).map(function(a){return h[a].actions}))}},a.prototype._transition=function(a,b,c){return(0,e.HD)(a)?this.transitionLeafNode(a,b,c):1===Object.keys(a).length?this.transitionCompoundNode(a,b,c):this.transitionParallelNode(a,b,c)},a.prototype.getTransitionData=function(a,b){return this._transition(a.value,a,(0,e.g5)(b))},a.prototype.next=function(a,b){var c,f,g,h=this,i=b.name,j=[],k=[];try{for(var l=(0,d.XA)(this.getCandidates(i)),m=l.next();!m.done;m=l.next()){var n=m.value,o=n.cond,q=n.in,r=a.context,s=!q||((0,e.HD)(q)&&p(q)?a.matches((0,e.WM)(this.getStateNodeById(q).path,this.delimiter)):(0,e.W)((0,e.WM)(q,this.delimiter),(0,e.ET)(this.path.slice(0,-2))(a.value))),t=!1;try{t=!o||(0,e.vx)(this.machine,o,r,b,a)}catch(u){throw Error("Unable to evaluate guard '".concat(o.name||o.type,"' in transition for event '").concat(i,"' in state node '").concat(this.id,"':\n").concat(u.message))}if(t&&s){void 0!==n.target&&(k=n.target),j.push.apply(j,(0,d.ev)([],(0,d.CR)(n.actions),!1)),g=n;break}}}catch(v){c={error:v}}finally{try{m&&!m.done&&(f=l.return)&&f.call(l)}finally{if(c)throw c.error}}if(g){if(!k.length)return{transitions:[g],entrySet:[],exitSet:[],configuration:a.value?[this]:[],source:a,actions:j};var w=(0,e.xH)(k.map(function(b){return h.getRelativeStateNodes(b,a.historyValue)})),x=!!g.internal,y=[];return x||k.forEach(function(a){y.push.apply(y,(0,d.ev)([],(0,d.CR)(h.getExternalReentryNodes(a)),!1))}),{transitions:[g],entrySet:y,exitSet:x?[]:[this],configuration:w,source:a,actions:j}}},a.prototype.getExternalReentryNodes=function(a){for(var b=[],c=(0,d.CR)(a.order>this.order?[a,this]:[this,a],2),e=c[0],f=c[1];e&&e!==f;)b.push(e),e=e.parent;return e!==f?[]:(b.push(f),b)},a.prototype.getActions=function(a,b,c,g,j,k,m){var n,o,p,q,r=this,s=(0,l.P_)([],k?this.getStateNodes(k.value):[this]);try{for(var t=(0,d.XA)(a),u=t.next();!u.done;u=t.next()){var v=u.value;(!(0,l.e$)(s,v)||(0,l.e$)(c.entrySet,v.parent)&&!(0,l.e$)(c.entrySet,v))&&c.entrySet.push(v)}}catch(w){n={error:w}}finally{try{u&&!u.done&&(o=t.return)&&o.call(t)}finally{if(n)throw n.error}}try{for(var x=(0,d.XA)(s),y=x.next();!y.done;y=x.next()){var v=y.value;(!(0,l.e$)(a,v)||(0,l.e$)(c.exitSet,v.parent))&&c.exitSet.push(v)}}catch(z){p={error:z}}finally{try{y&&!y.done&&(q=x.return)&&q.call(x)}finally{if(p)throw p.error}}var A=(0,e.xH)(c.entrySet.map(function(a){var b=[];if("final"!==a.type)return b;var d=a.parent;if(!d.parent)return b;b.push((0,i.aT)(a.id,a.doneData),(0,i.aT)(d.id,a.doneData?(0,e.QX)(a.doneData,g,j):void 0));var f=d.parent;return"parallel"===f.type&&(0,l.G)(f).every(function(a){return(0,l.Ij)(c.configuration,a)})&&b.push((0,i.aT)(f.id)),b}));c.exitSet.sort(function(a,b){return b.order-a.order}),c.entrySet.sort(function(a,b){return a.order-b.order});var B=new Set(c.entrySet),C=new Set(c.exitSet),D=Array.from(B).map(function(a){var b=a.onEntry,c=a.activities.map(function(a){return(0,i.BL)(a)});return(0,i.AE)(m?(0,d.ev)((0,d.ev)([],(0,d.CR)(b),!1),(0,d.CR)(c),!1):(0,d.ev)((0,d.ev)([],(0,d.CR)(c),!1),(0,d.CR)(b),!1),r.machine.options.actions)}).concat([A.map(i.OU)]),E=Array.from(C).map(function(a){return(0,i.AE)((0,d.ev)((0,d.ev)([],(0,d.CR)(a.onExit),!1),(0,d.CR)(a.activities.map(function(a){return(0,i.sT)(a)})),!1),r.machine.options.actions)}),F=E.concat([(0,i.AE)(c.actions,this.machine.options.actions)]).concat(D);if(b){var G=(0,i.AE)((0,e.xH)((0,d.ev)([],(0,d.CR)(a),!1).sort(function(a,b){return b.order-a.order}).map(function(a){return a.onExit})),this.machine.options.actions).filter(function(a){return a.type!==h.OU&&(a.type!==h.lW|| !!a.to&&a.to!==f.K.Internal)});return F.concat([G])}return F},a.prototype.transition=function(a,b,c,f){void 0===a&&(a=this.initialState);var h,i=(0,e.g5)(b);if(a instanceof g.ZM)h=void 0===c?a:this.resolveState(g.ZM.from(a,c));else{var k=(0,e.HD)(a)?this.resolve((0,e.on)(this.getResolvedPath(a))):this.resolve(a),m=null!=c?c:this.machine.context;h=this.resolveState(g.ZM.from(k,m))}if(!j.M&&"*"===i.name)throw Error("An event cannot have the wildcard type ('".concat("*","')"));if(this.strict&&!this.events.includes(i.name)&&!(0,e.JQ)(i.name))throw Error("Machine '".concat(this.id,"' does not accept event '").concat(i.name,"'"));var n=this._transition(h.value,h,i)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:h,actions:[]},o=(0,l.P_)([],this.getStateNodes(h.value)),p=n.configuration.length?(0,l.P_)(o,n.configuration):o;return n.configuration=(0,d.ev)([],(0,d.CR)(p),!1),this.resolveTransition(n,h,h.context,f,i)},a.prototype.resolveRaisedTransition=function(a,b,c,e){var f,g=a.actions;return(a=this.transition(a,b,void 0,e))._event=c,a.event=c.data,(f=a.actions).unshift.apply(f,(0,d.ev)([],(0,d.CR)(g),!1)),a},a.prototype.resolveTransition=function(a,b,c,j,k){var n,o,p,q,r=this;void 0===k&&(k=i.bf);var s=a.configuration,t=!b||a.transitions.length>0,u=t?a.configuration:b?b.configuration:[],v=(0,l.Ij)(u,this),w=t?(0,l.NA)(this.machine,s):void 0,x=b?b.historyValue?b.historyValue:a.source?this.machine.historyValue(b.value):void 0:void 0,y=this.getActions(new Set(u),v,a,c,k,b,j),z=b?(0,d.pi)({},b.activities):{};try{for(var A=(0,d.XA)(y),B=A.next();!B.done;B=A.next()){var C=B.value;try{for(var D=(p=void 0,(0,d.XA)(C)),E=D.next();!E.done;E=D.next()){var F=E.value;F.type===h.BL?z[F.activity.id||F.activity.type]=F:F.type===h.sT&&(z[F.activity.id||F.activity.type]=!1)}}catch(G){p={error:G}}finally{try{E&&!E.done&&(q=D.return)&&q.call(D)}finally{if(p)throw p.error}}}}catch(H){n={error:H}}finally{try{B&&!B.done&&(o=A.return)&&o.call(A)}finally{if(n)throw n.error}}var I=(0,d.CR)((0,i.yC)(this,b,c,k,y,j,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),J=I[0],K=I[1],L=(0,d.CR)((0,e.uK)(J,function(a){return a.type===h.OU||a.type===h.lW&&a.to===f.K.Internal}),2),M=L[0],N=L[1],O=J.filter(function(a){var b;return a.type===h.BL&&(null===(b=a.activity)|| void 0===b?void 0:b.type)===h.dw}).reduce(function(a,b){return a[b.activity.id]=(0,m.mu)(b.activity,r.machine,K,k),a},b?(0,d.pi)({},b.children):{}),P=new g.ZM({value:w||b.value,context:K,_event:k,_sessionid:b?b._sessionid:null,historyValue:w?x?(0,e.yv)(x,w):void 0:b?b.historyValue:void 0,history:!w||a.source?b:void 0,actions:w?N:[],activities:w?z:b?b.activities:{},events:[],configuration:u,transitions:a.transitions,children:O,done:v,tags:(0,l.Oe)(u),machine:this}),Q=c!==K;P.changed=k.name===h.Vx||Q;var R=P.history;R&&delete R.history;var S=!v&&(this._transient||s.some(function(a){return a._transient}));if(!t&&(!S||""===k.name))return P;var T=P;if(!v)for(S&&(T=this.resolveRaisedTransition(T,{type:h.IA},k,j));M.length;){var U=M.shift();T=this.resolveRaisedTransition(T,U._event,k,j)}var V=T.changed||(R?!!T.actions.length||Q|| typeof R.value!=typeof T.value||!(0,g.j_)(T.value,R.value):void 0);return T.changed=V,T.history=R,T},a.prototype.getStateNode=function(a){if(p(a))return this.machine.getStateNodeById(a);if(!this.states)throw Error("Unable to retrieve child state '".concat(a,"' from '").concat(this.id,"'; no child states exist."));var b=this.states[a];if(!b)throw Error("Child state '".concat(a,"' does not exist on '").concat(this.id,"'"));return b},a.prototype.getStateNodeById=function(a){var b=p(a)?a.slice(1):a;if(b===this.id)return this;var c=this.machine.idMap[b];if(!c)throw Error("Child state node '#".concat(b,"' does not exist on machine '").concat(this.id,"'"));return c},a.prototype.getStateNodeByPath=function(a){if("string"==typeof a&&p(a))try{return this.getStateNodeById(a.slice(1))}catch(b){}for(var c=(0,e.Q9)(a,this.delimiter).slice(),d=this;c.length;){var f=c.shift();if(!f.length)break;d=d.getStateNode(f)}return d},a.prototype.resolve=function(a){var b,c=this;if(!a)return this.initialStateValue||o;switch(this.type){case"parallel":return(0,e.Q8)(this.initialStateValue,function(b,d){return b?c.getStateNode(d).resolve(a[d]||b):o});case"compound":if((0,e.HD)(a)){var d=this.getStateNode(a);if("parallel"===d.type||"compound"===d.type)return(b={})[a]=d.initialStateValue,b;return a}if(!Object.keys(a).length)return this.initialStateValue||{};return(0,e.Q8)(a,function(a,b){return a?c.getStateNode(b).resolve(a):o});default:return a||o}},a.prototype.getResolvedPath=function(a){if(p(a)){var b=this.machine.idMap[a.slice(1)];if(!b)throw Error("Unable to find state node '".concat(a,"'"));return b.path}return(0,e.Q9)(a,this.delimiter)},Object.defineProperty(a.prototype,"initialStateValue",{get:function(){var a,b;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)b=(0,e.ib)(this.states,function(a){return a.initialStateValue||o},function(a){return"history"!==a.type});else if(void 0!==this.initial){if(!this.states[this.initial])throw Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));b=(0,l.N9)(this.states[this.initial])?this.initial:((a={})[this.initial]=this.states[this.initial].initialStateValue,a)}else b={};return this.__cache.initialStateValue=b,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),a.prototype.getInitialState=function(a,b){this._init();var c=this.getStateNodes(a);return this.resolveTransition({configuration:c,entrySet:c,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=b?b:this.machine.context,void 0)},Object.defineProperty(a.prototype,"initialState",{get:function(){var a=this.initialStateValue;if(!a)throw Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(a)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"target",{get:function(){var a;if("history"===this.type){var b=this.config;a=(0,e.HD)(b.target)&&p(b.target)?(0,e.on)(this.machine.getStateNodeById(b.target).path.slice(this.path.length-1)):b.target}return a},enumerable:!1,configurable:!0}),a.prototype.getRelativeStateNodes=function(a,b,c){return void 0===c&&(c=!0),c?"history"===a.type?a.resolveHistory(b):a.initialStateNodes:[a]},Object.defineProperty(a.prototype,"initialStateNodes",{get:function(){var a=this;if((0,l.N9)(this))return[this];if("compound"===this.type&&!this.initial)return j.M||(0,e.ZK)(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this];var b=(0,e.SA)(this.initialStateValue);return(0,e.xH)(b.map(function(b){return a.getFromRelativePath(b)}))},enumerable:!1,configurable:!0}),a.prototype.getFromRelativePath=function(a){if(!a.length)return[this];var b=(0,d.CR)(a),c=b[0],e=b.slice(1);if(!this.states)throw Error("Cannot retrieve subPath '".concat(c,"' from node with no states"));var f=this.getStateNode(c);if("history"===f.type)return f.resolveHistory();if(!this.states[c])throw Error("Child state '".concat(c,"' does not exist on '").concat(this.id,"'"));return this.states[c].getFromRelativePath(e)},a.prototype.historyValue=function(a){if(Object.keys(this.states).length)return{current:a||this.initialStateValue,states:(0,e.ib)(this.states,function(b,c){if(!a)return b.historyValue();var d=(0,e.HD)(a)?void 0:a[c];return b.historyValue(d||b.initialStateValue)},function(a){return!a.history})}},a.prototype.resolveHistory=function(a){var b=this;if("history"!==this.type)return[this];var c=this.parent;if(!a){var d=this.target;return d?(0,e.xH)((0,e.SA)(d).map(function(a){return c.getFromRelativePath(a)})):c.initialStateNodes}var f=(0,e.gk)(c.path,"states")(a).current;return(0,e.HD)(f)?[c.getStateNode(f)]:(0,e.xH)((0,e.SA)(f).map(function(a){return"deep"===b.history?c.getFromRelativePath(a):[c.states[a[0]]]}))},Object.defineProperty(a.prototype,"stateIds",{get:function(){var a=this;return[this.id].concat((0,e.xH)(Object.keys(this.states).map(function(b){return a.states[b].stateIds})))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"events",{get:function(){if(this.__cache.events)return this.__cache.events;var a,b,c,e,f=this.states,g=new Set(this.ownEvents);if(f)try{for(var h=(0,d.XA)(Object.keys(f)),i=h.next();!i.done;i=h.next()){var j=f[i.value];if(j.states)try{for(var k=(c=void 0,(0,d.XA)(j.events)),l=k.next();!l.done;l=k.next()){var m=l.value;g.add("".concat(m))}}catch(n){c={error:n}}finally{try{l&&!l.done&&(e=k.return)&&e.call(k)}finally{if(c)throw c.error}}}}catch(o){a={error:o}}finally{try{i&&!i.done&&(b=h.return)&&b.call(h)}finally{if(a)throw a.error}}return this.__cache.events=Array.from(g)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ownEvents",{get:function(){return Array.from(new Set(this.transitions.filter(function(a){return!(!a.target&&!a.actions.length&&a.internal)}).map(function(a){return a.eventType})))},enumerable:!1,configurable:!0}),a.prototype.resolveTarget=function(a){var b=this;if(void 0!==a)return a.map(function(a){if(!(0,e.HD)(a))return a;var c=a[0]===b.delimiter;if(c&&!b.parent)return b.getStateNodeByPath(a.slice(1));var d=c?b.key+a:a;if(!b.parent)return b.getStateNodeByPath(d);try{return b.parent.getStateNodeByPath(d)}catch(f){throw Error("Invalid transition definition for state node '".concat(b.id,"':\n").concat(f.message))}})},a.prototype.formatTransition=function(a){var b=this,c=(0,e.rg)(a.target),f="internal"in a?a.internal:!c||c.some(function(a){return(0,e.HD)(a)&&a[0]===b.delimiter}),g=this.machine.options.guards,h=this.resolveTarget(c),j=(0,d.pi)((0,d.pi)({},a),{actions:(0,i.AE)((0,e.qo)(a.actions)),cond:(0,e.Qi)(a.cond,g),target:h,source:this,internal:f,eventType:a.event,toJSON:function(){return(0,d.pi)((0,d.pi)({},j),{target:j.target?j.target.map(function(a){return"#".concat(a.id)}):void 0,source:"#".concat(b.id)})}});return j},a.prototype.formatTransitions=function(){var a,b,c,f=this;if(this.config.on){if(Array.isArray(this.config.on))c=this.config.on;else{var g=this.config.on,h="*",k=g[h],l=void 0===k?[]:k,m=(0,d._T)(g,["symbol"==typeof h?h:h+""]);c=(0,e.xH)(Object.keys(m).map(function(a){j.M||""!==a||(0,e.ZK)(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(f.id,'".'));var b=(0,e.jh)(a,m[a]);return j.M||q(f,a,b),b}).concat((0,e.jh)("*",l)))}}else c=[];var n=this.config.always?(0,e.jh)("",this.config.always):[],o=this.config.onDone?(0,e.jh)(String((0,i.aT)(this.id)),this.config.onDone):[];j.M||(0,e.ZK)(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var p=(0,e.xH)(this.invoke.map(function(a){var b=[];return a.onDone&&b.push.apply(b,(0,d.ev)([],(0,d.CR)((0,e.jh)(String((0,i.Sl)(a.id)),a.onDone)),!1)),a.onError&&b.push.apply(b,(0,d.ev)([],(0,d.CR)((0,e.jh)(String((0,i.vU)(a.id)),a.onError)),!1)),b})),r=this.after,s=(0,e.xH)((0,d.ev)((0,d.ev)((0,d.ev)((0,d.ev)([],(0,d.CR)(o),!1),(0,d.CR)(p),!1),(0,d.CR)(c),!1),(0,d.CR)(n),!1).map(function(a){return(0,e.qo)(a).map(function(a){return f.formatTransition(a)})}));try{for(var t=(0,d.XA)(r),u=t.next();!u.done;u=t.next()){var v=u.value;s.push(v)}}catch(w){a={error:w}}finally{try{u&&!u.done&&(b=t.return)&&b.call(t)}finally{if(a)throw a.error}}return s},a}(),s=!1;function t(a,b){return j.M||a.predictableActionArguments||s||(s=!0,console.warn("It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html")),new r(a,b)}},4911:function(a,b,c){"use strict";c.d(b,{TL:function(){return k},ZM:function(){return m},j1:function(){return l},j_:function(){return j}});var d=c(3056),e=c(7353),f=c(9823),g=c(6115),h=c(375),i=c(4066);function j(a,b){if(a===b)return!0;if(void 0===a|| void 0===b)return!1;if((0,f.HD)(a)||(0,f.HD)(b))return a===b;var c=Object.keys(a),d=Object.keys(b);return c.length===d.length&&c.every(function(c){return j(a[c],b[c])})}function k(a){return"object"==typeof a&&null!==a&&"value"in a&&"_event"in a}function l(a,b){var c=a.exec;return(0,d.pi)((0,d.pi)({},a),{exec:void 0!==c?function(){return c(b.context,b.event,{action:a,state:b,_event:b._event})}:void 0})}var m=function(){function a(a){var b,c=this;this.actions=[],this.activities=e.qP,this.meta={},this.events=[],this.value=a.value,this.context=a.context,this._event=a._event,this._sessionid=a._sessionid,this.event=this._event.data,this.historyValue=a.historyValue,this.history=a.history,this.actions=a.actions||[],this.activities=a.activities||e.qP,this.meta=(0,g.xZ)(a.configuration),this.events=a.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=a.configuration,this.transitions=a.transitions,this.children=a.children,this.done=!!a.done,this.tags=null!==(b=Array.isArray(a.tags)?new Set(a.tags):a.tags)&& void 0!==b?b:new Set,this.machine=a.machine,Object.defineProperty(this,"nextEvents",{get:function(){return(0,g.nJ)(c.configuration)}})}return a.from=function(b,c){if(b instanceof a)return b.context!==c?new a({value:b.value,context:c,_event:b._event,_sessionid:null,historyValue:b.historyValue,history:b.history,actions:[],activities:b.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):b;var d=h.bf;return new a({value:b,context:c,_event:d,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},a.create=function(b){return new a(b)},a.inert=function(b,c){if(b instanceof a){if(!b.actions.length)return b;var d=h.bf;return new a({value:b.value,context:c,_event:d,_sessionid:null,historyValue:b.historyValue,history:b.history,activities:b.activities,configuration:b.configuration,transitions:[],children:{}})}return a.from(b,c)},a.prototype.toStrings=function(a,b){var c=this;if(void 0===a&&(a=this.value),void 0===b&&(b="."),(0,f.HD)(a))return[a];var e=Object.keys(a);return e.concat.apply(e,(0,d.ev)([],(0,d.CR)(e.map(function(d){return c.toStrings(a[d],b).map(function(a){return d+b+a})})),!1))},a.prototype.toJSON=function(){this.configuration,this.transitions;var a=this.tags;this.machine;var b=(0,d._T)(this,["configuration","transitions","tags","machine"]);return(0,d.pi)((0,d.pi)({},b),{tags:Array.from(a)})},a.prototype.matches=function(a){return(0,f.W)(a,this.value)},a.prototype.hasTag=function(a){return this.tags.has(a)},a.prototype.can=function(a){i.M&&(0,f.ZK)(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var b,c=null===(b=this.machine)|| void 0===b?void 0:b.getTransitionData(this,a);return!!(null==c?void 0:c.transitions.length)&&c.transitions.some(function(a){return void 0!==a.target||a.actions.length})},a}()},3056:function(a,b,c){"use strict";c.d(b,{CR:function(){return g},XA:function(){return f},"_T":function(){return e},ev:function(){return h},pi:function(){return d}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */ var d=function(){return(d=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function e(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}function f(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(h){e={error:h}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g}function h(a,b,c){if(c||2===arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))}},3884:function(a,b,c){"use strict";c.d(b,{BL:function(){return e},IA:function(){return j},Le:function(){return s},Mg:function(){return o},OU:function(){return g},RN:function(){return r},S1:function(){return m},Vx:function(){return q},al:function(){return i},cM:function(){return l},dw:function(){return n},f0:function(){return k},lW:function(){return h},sT:function(){return f},vU:function(){return p}});var d=c(9043),e=d.M.Start,f=d.M.Stop,g=d.M.Raise,h=d.M.Send,i=d.M.Cancel,j=d.M.NullEvent,k=d.M.Assign;d.M.After,d.M.DoneState;var l=d.M.Log,m=d.M.Init,n=d.M.Invoke;d.M.ErrorExecution;var o=d.M.ErrorPlatform,p=d.M.ErrorCustom,q=d.M.Update,r=d.M.Choose,s=d.M.Pure},375:function(a,b,c){"use strict";c.d(b,{AE:function(){return l},BL:function(){return r},OU:function(){return n},Q8:function(){return k},Sl:function(){return v},XA:function(){return m},aT:function(){return u},al:function(){return q},bf:function(){return i},e4:function(){return t},lW:function(){return o},"o$":function(){return j},sT:function(){return s},vU:function(){return w},yC:function(){return y}});var d=c(3056),e=c(9043),f=c(3884),g=c(9823),h=c(4066),i=(0,g.g5)({type:f.S1});function j(a,b){return b&&b[a]||void 0}function k(a,b){var c;if((0,g.HD)(a)||"number"==typeof a){var e=j(a,b);c=(0,g.mf)(e)?{type:a,exec:e}:e||{type:a,exec:void 0}}else if((0,g.mf)(a))c={type:a.name||a.toString(),exec:a};else{var e=j(a.type,b);if((0,g.mf)(e))c=(0,d.pi)((0,d.pi)({},a),{exec:e});else if(e){var f=e.type||a.type;c=(0,d.pi)((0,d.pi)((0,d.pi)({},e),a),{type:f})}else c=a}return c}var l=function(a,b){return a?((0,g.kJ)(a)?a:[a]).map(function(a){return k(a,b)}):[]};function m(a){var b=k(a);return(0,d.pi)((0,d.pi)({id:(0,g.HD)(a)?a:b.id},b),{type:b.type})}function n(a){return(0,g.HD)(a)?{type:f.OU,event:a}:o(a,{to:e.K.Internal})}function o(a,b){return{to:b?b.to:void 0,type:f.lW,event:(0,g.mf)(a)?a:(0,g._v)(a),delay:b?b.delay:void 0,id:b&& void 0!==b.id?b.id:(0,g.mf)(a)?a.name:(0,g.x6)(a)}}var p=function(a,b,c){return(0,d.pi)((0,d.pi)({},a),{value:(0,g.HD)(a.expr)?a.expr:a.expr(b,c.data,{_event:c})})},q=function(a){return{type:f.al,sendId:a}};function r(a){var b=m(a);return{type:e.M.Start,activity:b,exec:void 0}}function s(a){var b=(0,g.mf)(a)?a:m(a);return{type:e.M.Stop,activity:b,exec:void 0}}function t(a,b){var c=b?"#".concat(b):"";return"".concat(e.M.After,"(").concat(a,")").concat(c)}function u(a,b){var c="".concat(e.M.DoneState,".").concat(a),d={type:c,data:b};return d.toString=function(){return c},d}function v(a,b){var c="".concat(e.M.DoneInvoke,".").concat(a),d={type:c,data:b};return d.toString=function(){return c},d}function w(a,b){var c="".concat(e.M.ErrorPlatform,".").concat(a),d={type:c,data:b};return d.toString=function(){return c},d}var x=function(a){var b,c,e=[];try{for(var g=(0,d.XA)(a),h=g.next();!h.done;h=g.next())for(var i=h.value,j=0;j<i.length;){if(i[j].type===f.f0){e.push(i[j]),i.splice(j,1);continue}j++}}catch(k){b={error:k}}finally{try{h&&!h.done&&(c=g.return)&&c.call(g)}finally{if(b)throw b.error}}return e};function y(a,b,c,i,j,m,n){void 0===n&&(n=!1);var o=n?[]:x(j),q=o.length?(0,g.dt)(c,i,o,b):c,r=n?[c]:void 0,s=[];function t(j){switch(j.type){case f.OU:return v=j,{type:f.OU,_event:(0,g.g5)(v.event)};case f.lW:var o=function(a,b,c,e){var f,h={_event:c},i=(0,g.g5)((0,g.mf)(a.event)?a.event(b,c.data,h):a.event);if((0,g.HD)(a.delay)){var j=e&&e[a.delay];f=(0,g.mf)(j)?j(b,c.data,h):j}else f=(0,g.mf)(a.delay)?a.delay(b,c.data,h):a.delay;var k=(0,g.mf)(a.to)?a.to(b,c.data,h):a.to;return(0,d.pi)((0,d.pi)({},a),{to:k,_event:i,event:i.data,delay:f})}(j,q,i,a.options.delays);return h.M||(0,g.ZK)(!(0,g.HD)(j.delay)||"number"==typeof o.delay,"No delay reference for delay expression '".concat(j.delay,"' was found on machine '").concat(a.id,"'")),m&&o.to!==e.K.Internal&&s.push(o),o;case f.cM:var t=p(j,q,i);return null==m||m(t,q,i),t;case f.RN:var u,v,w=null===(u=j.conds.find(function(c){var d=(0,g.Qi)(c.cond,a.options.guards);return!d||(0,g.vx)(a,d,q,i,m?void 0:b)}))|| void 0===u?void 0:u.actions;if(!w)return[];var x=(0,d.CR)(y(a,b,q,i,[l((0,g.qo)(w),a.options.actions)],m,n),2),z=x[0],A=x[1];return q=A,null==r||r.push(q),z;case f.Le:var w=j.get(q,i.data);if(!w)return[];var B=(0,d.CR)(y(a,b,q,i,[l((0,g.qo)(w),a.options.actions)],m,n),2),C=B[0],D=B[1];return q=D,null==r||r.push(q),C;case f.sT:var E,F,G,H,t=(E=j,F=q,G=i,H=(0,g.mf)(E.activity)?E.activity(F,G.data):E.activity,{type:e.M.Stop,activity:"string"==typeof H?{id:H}:H});return null==m||m(t,c,i),t;case f.f0:q=(0,g.dt)(q,i,[j],m?void 0:b),null==r||r.push(q);break;default:var I=k(j,a.options.actions),J=I.exec;if(m)m(I,q,i);else if(J&&r){var K=r.length-1;I=(0,d.pi)((0,d.pi)({},I),{exec:function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];J.apply(void 0,(0,d.ev)([r[K]],(0,d.CR)(b),!1))}})}return I}}return[(0,g.xH)(j.map(function(a){var b,c,e=[];try{for(var f=(0,d.XA)(a),g=f.next();!g.done;g=f.next()){var h=g.value,j=t(h);j&&(e=e.concat(j))}}catch(k){b={error:k}}finally{try{g&&!g.done&&(c=f.return)&&c.call(f)}finally{if(b)throw b.error}}return s.forEach(function(a){m(a,q,i)}),s.length=0,e})),q]}},7353:function(a,b,c){"use strict";c.d(b,{TV:function(){return f},iS:function(){return d},qP:function(){return e},rt:function(){return g}});var d=".",e={},f="xstate.guard",g=""},4066:function(a,b,c){"use strict";c.d(b,{M:function(){return d}});var d=!0},797:function(a,b,c){"use strict";c.d(b,{J:function(){return e}});var d=[],e=function(a,b){d.push(a);var c=b(a);return d.pop(),c}},6115:function(a,b,c){"use strict";c.d(b,{G:function(){return h},Ij:function(){return p},N9:function(){return f},NA:function(){return m},Oe:function(){return r},P_:function(){return j},ac:function(){return i},"e$":function(){return n},nI:function(){return g},nJ:function(){return o},xZ:function(){return q}});var d=c(3056),e=c(9823),f=function(a){return"atomic"===a.type||"final"===a.type};function g(a){return Object.keys(a.states).map(function(b){return a.states[b]})}function h(a){return g(a).filter(function(a){return"history"!==a.type})}function i(a){var b=[a];return f(a)?b:b.concat((0,e.xH)(h(a).map(i)))}function j(a,b){var c,e,f,g,i,j,k,m,n=new Set(a),o=l(n),p=new Set(b);try{for(var q=(0,d.XA)(p),r=q.next();!r.done;r=q.next())for(var s=r.value,t=s.parent;t&&!p.has(t);)p.add(t),t=t.parent}catch(u){c={error:u}}finally{try{r&&!r.done&&(e=q.return)&&e.call(q)}finally{if(c)throw c.error}}var v=l(p);try{for(var w=(0,d.XA)(p),x=w.next();!x.done;x=w.next()){var s=x.value;if("compound"!==s.type||v.get(s)&&v.get(s).length){if("parallel"===s.type)try{for(var y=(i=void 0,(0,d.XA)(h(s))),z=y.next();!z.done;z=y.next()){var A=z.value;p.has(A)||(p.add(A),o.get(A)?o.get(A).forEach(function(a){return p.add(a)}):A.initialStateNodes.forEach(function(a){return p.add(a)}))}}catch(B){i={error:B}}finally{try{z&&!z.done&&(j=y.return)&&j.call(y)}finally{if(i)throw i.error}}}else o.get(s)?o.get(s).forEach(function(a){return p.add(a)}):s.initialStateNodes.forEach(function(a){return p.add(a)})}}catch(C){f={error:C}}finally{try{x&&!x.done&&(g=w.return)&&g.call(w)}finally{if(f)throw f.error}}try{for(var D=(0,d.XA)(p),E=D.next();!E.done;E=D.next())for(var s=E.value,t=s.parent;t&&!p.has(t);)p.add(t),t=t.parent}catch(F){k={error:F}}finally{try{E&&!E.done&&(m=D.return)&&m.call(D)}finally{if(k)throw k.error}}return p}function k(a,b){var c=b.get(a);if(!c)return{};if("compound"===a.type){var d=c[0];if(!d)return{};if(f(d))return d.key}var e={};return c.forEach(function(a){e[a.key]=k(a,b)}),e}function l(a){var b,c,e=new Map;try{for(var f=(0,d.XA)(a),g=f.next();!g.done;g=f.next()){var h=g.value;e.has(h)||e.set(h,[]),h.parent&&(e.has(h.parent)||e.set(h.parent,[]),e.get(h.parent).push(h))}}catch(i){b={error:i}}finally{try{g&&!g.done&&(c=f.return)&&c.call(f)}finally{if(b)throw b.error}}return e}function m(a,b){var c=j([a],b);return k(a,l(c))}function n(a,b){return Array.isArray(a)?a.some(function(a){return a===b}):a instanceof Set&&a.has(b)}function o(a){return(0,d.ev)([],(0,d.CR)(new Set((0,e.xH)((0,d.ev)([],(0,d.CR)(a.map(function(a){return a.ownEvents})),!1)))),!1)}function p(a,b){return"compound"===b.type?h(b).some(function(b){return"final"===b.type&&n(a,b)}):"parallel"===b.type&&h(b).every(function(b){return p(a,b)})}function q(a){return void 0===a&&(a=[]),a.reduce(function(a,b){return void 0!==b.meta&&(a[b.id]=b.meta),a},{})}function r(a){return new Set((0,e.xH)(a.map(function(a){return a.tags})))}},9043:function(a,b,c){"use strict";var d,e,f,g;c.d(b,{K:function(){return e},M:function(){return d}}),(f=d||(d={})).Start="xstate.start",f.Stop="xstate.stop",f.Raise="xstate.raise",f.Send="xstate.send",f.Cancel="xstate.cancel",f.NullEvent="",f.Assign="xstate.assign",f.After="xstate.after",f.DoneState="done.state",f.DoneInvoke="done.invoke",f.Log="xstate.log",f.Init="xstate.init",f.Invoke="xstate.invoke",f.ErrorExecution="error.execution",f.ErrorCommunication="error.communication",f.ErrorPlatform="error.platform",f.ErrorCustom="xstate.error",f.Update="xstate.update",f.Pure="xstate.pure",f.Choose="xstate.choose",(g=e||(e={})).Parent="#_parent",g.Internal="#_internal"},9823:function(a,b,c){"use strict";c.d(b,{Bc:function(){return K},ET:function(){return o},HD:function(){return F},HV:function(){return x},JQ:function(){return v},"L$":function(){return I},O4:function(){return J},Q8:function(){return m},Q9:function(){return j},QX:function(){return u},Qi:function(){return G},SA:function(){return q},W:function(){return h},WM:function(){return k},ZK:function(){return C},"_v":function(){return L},bi:function(){return H},bx:function(){return T},dt:function(){return B},g5:function(){return M},gk:function(){return p},ib:function(){return n},j:function(){return R},jh:function(){return N},kJ:function(){return D},mf:function(){return E},on:function(){return l},qo:function(){return t},rg:function(){return O},uK:function(){return y},v4:function(){return P},vx:function(){return Q},x6:function(){return i},xH:function(){return r},y8:function(){return w},yv:function(){return A},zM:function(){return S}});var d,e=c(3056),f=c(7353),g=c(4066);function h(a,b,c){void 0===c&&(c=f.iS);var d=k(a,c),e=k(b,c);return F(e)?!!F(d)&&e===d:F(d)?d in e:Object.keys(d).every(function(a){return a in e&&h(d[a],e[a])})}function i(a){try{return F(a)||"number"==typeof a?"".concat(a):a.type}catch(b){throw Error("Events must be strings or objects with a string event.type property.")}}function j(a,b){try{if(D(a))return a;return a.toString().split(b)}catch(c){throw Error("'".concat(a,"' is not a valid state path."))}}function k(a,b){if("object"==typeof(c=a)&&"value"in c&&"context"in c&&"event"in c&&"_event"in c)return a.value;if(D(a))return l(a);if("string"!=typeof a)return a;var c,d=j(a,b);return l(d)}function l(a){if(1===a.length)return a[0];for(var b={},c=b,d=0;d<a.length-1;d++)d===a.length-2?c[a[d]]=a[d+1]:(c[a[d]]={},c=c[a[d]]);return b}function m(a,b){for(var c={},d=Object.keys(a),e=0;e<d.length;e++){var f=d[e];c[f]=b(a[f],f,a,e)}return c}function n(a,b,c){var d,f,g={};try{for(var h=(0,e.XA)(Object.keys(a)),i=h.next();!i.done;i=h.next()){var j=i.value,k=a[j];c(k)&&(g[j]=b(k,j,a))}}catch(l){d={error:l}}finally{try{i&&!i.done&&(f=h.return)&&f.call(h)}finally{if(d)throw d.error}}return g}var o=function(a){return function(b){var c,d,f=b;try{for(var g=(0,e.XA)(a),h=g.next();!h.done;h=g.next())f=f[h.value]}catch(i){c={error:i}}finally{try{h&&!h.done&&(d=g.return)&&d.call(g)}finally{if(c)throw c.error}}return f}};function p(a,b){return function(c){var d,f,g=c;try{for(var h=(0,e.XA)(a),i=h.next();!i.done;i=h.next()){var j=i.value;g=g[b][j]}}catch(k){d={error:k}}finally{try{i&&!i.done&&(f=h.return)&&f.call(h)}finally{if(d)throw d.error}}return g}}function q(a){return a?F(a)?[[a]]:r(Object.keys(a).map(function(b){var c=a[b];return"string"==typeof c||c&&Object.keys(c).length?q(a[b]).map(function(a){return[b].concat(a)}):[[b]]})):[[]]}function r(a){var b;return(b=[]).concat.apply(b,(0,e.ev)([],(0,e.CR)(a),!1))}function s(a){return D(a)?a:[a]}function t(a){return void 0===a?[]:s(a)}function u(a,b,c){if(E(a))return a(b,c.data);var d,f,g={};try{for(var h=(0,e.XA)(Object.keys(a)),i=h.next();!i.done;i=h.next()){var j=i.value,k=a[j];E(k)?g[j]=k(b,c.data):g[j]=k}}catch(l){d={error:l}}finally{try{i&&!i.done&&(f=h.return)&&f.call(h)}finally{if(d)throw d.error}}return g}function v(a){return/^(done|error)\./.test(a)}function w(a){return!!(a instanceof Promise||null!==a&&(E(a)||"object"==typeof a)&&E(a.then))}function x(a){return null!==a&&"object"==typeof a&&"transition"in a&&"function"==typeof a.transition}function y(a,b){var c,d,f=(0,e.CR)([[],[]],2),g=f[0],h=f[1];try{for(var i=(0,e.XA)(a),j=i.next();!j.done;j=i.next()){var k=j.value;b(k)?g.push(k):h.push(k)}}catch(l){c={error:l}}finally{try{j&&!j.done&&(d=i.return)&&d.call(i)}finally{if(c)throw c.error}}return[g,h]}function z(a,b){return m(a.states,function(a,c){if(a){var d=(F(b)?void 0:b[c])||(a?a.current:void 0);if(d)return{current:d,states:z(a,d)}}})}function A(a,b){return{current:b,states:z(a,b)}}function B(a,b,c,d){return g.M||C(!!a,"Attempting to update undefined context"),a?c.reduce(function(a,c){var f,g,h=c.assignment,i={state:d,action:c,_event:b},j={};if(E(h))j=h(a,b.data,i);else try{for(var k=(0,e.XA)(Object.keys(h)),l=k.next();!l.done;l=k.next()){var m=l.value,n=h[m];j[m]=E(n)?n(a,b.data,i):n}}catch(o){f={error:o}}finally{try{l&&!l.done&&(g=k.return)&&g.call(k)}finally{if(f)throw f.error}}return Object.assign({},a,j)},a):a}var C=function(){};function D(a){return Array.isArray(a)}function E(a){return"function"==typeof a}function F(a){return"string"==typeof a}function G(a,b){return a?F(a)?{type:f.TV,name:a,predicate:b?b[a]:void 0}:E(a)?{type:f.TV,name:a.name,predicate:a}:a:void 0}function H(a){try{return"subscribe"in a&&E(a.subscribe)}catch(b){return!1}}g.M||(C=function(a,b){var c=a instanceof Error?a:void 0;if((c||!a)&& void 0!==console){var d=["Warning: ".concat(b)];c&&d.push(c),console.warn.apply(console,d)}});var I="function"==typeof Symbol&&Symbol.observable||"@@observable";function J(a){return!!a&&"__xstatenode"in a}function K(a){return!!a&&"function"==typeof a.send}function L(a,b){return F(a)||"number"==typeof a?(0,e.pi)({type:a},b):a}function M(a,b){if(!F(a)&&"$$type"in a&&"scxml"===a.$$type)return a;var c=L(a);return(0,e.pi)({name:c.type,data:c,$$type:"scxml",type:"external"},b)}function N(a,b){return s(b).map(function(b){return void 0===b||"string"==typeof b||J(b)?{target:b,event:a}:(0,e.pi)((0,e.pi)({},b),{event:a})})}function O(a){if(void 0!==a&&a!==f.rt)return t(a)}function P(a,b,c){if(!g.M){var d=a.stack?" Stacktrace was '".concat(a.stack,"'"):"";if(a===b)console.error("Missing onError handler for invocation '".concat(c,"', error was '").concat(a,"'.").concat(d));else{var e=b.stack?" Stacktrace was '".concat(b.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(c,"'. ")+"Original error: '".concat(a,"'. ").concat(d," Current error is '").concat(b,"'.").concat(e))}}}function Q(a,b,c,d,e){var g=a.options.guards,h={state:e,cond:b,_event:d};if(b.type===f.TV)return((null==g?void 0:g[b.name])||b.predicate)(c,d.data,h);var i=null==g?void 0:g[b.type];if(!i)throw Error("Guard '".concat(b.type,"' is not implemented on machine '").concat(a.id,"'."));return i(c,d.data,h)}function R(a){return"string"==typeof a?{type:a}:a}function S(a,b,c){var d=function(){},e="object"==typeof a,f=e?a:null;return{next:((e?a.next:a)||d).bind(f),error:((e?a.error:b)||d).bind(f),complete:((e?a.complete:c)||d).bind(f)}}function T(a,b){return"".concat(a,":invocation[").concat(b,"]")}(d={})[I]=function(){return this},d[Symbol.observable]=function(){return this}},603:function(a,b,c){"use strict";function d(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function e(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a,b)||function(a,b){if(a){if("string"==typeof a)return d(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return d(a,b)}}(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}c.d(b,{Z:function(){return e}})},1351:function(a,b,c){"use strict";function d(a){throw a}c.d(b,{Z:function(){return d}})}}])